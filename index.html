<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=500, initial-scale=1">
  <head>
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <style>
    * {
      box-sizing: border-box;
    }

    .row {
      display: flex;
    }

    /*  https://jsbin.com/fotozolucu/edit?html,css,output */
    #overlay1 {
    	position: relative;
    	width: 350px;
    	height: 100%;
    	background: url('../img/blank1_noicon.png') center center no-repeat;
    	background-size: 80%;
    	z-index: 1;
      margin-left:0%;
    }
    #overlay2 {
        position: relative;
        width: 350px;
        height: 100%;
        background: url('../img/blank2_noicon.png') center center no-repeat;
        background-size: 80%;
        z-index: 1;
        margin-left:0%;
    }
    #personCountDiv {
        margin: auto;
        margin-top: -97%;
        color: black;
        margin-left: 7%;
    }
    #personCount {
        color: black;
        font-size: 18px;
    }
    #personNumber {
        font-size: 43px;
    }
    #personCountDiv2 {
        margin: auto;
        margin-top: -78%;
        color: black;
        margin-left: 7%;
    }
    #personCount2 {
        color: black;
        font-size: 18px;
    }
    #personNumber2 {
        font-size: 43px;
    }
    #coffee-cup-div {
        position: relative;
        margin-right: 65%
    }
    #coffee-cup {
        width: 30%;
        height: auto;
        margin-top: 70%;
        margin-left: 10%;
    }
    #dotted-line-div {
        position: relative;
        margin-right: 65%
    }
    #dotted-line {
        width: 111%;
        height: auto;
        margin-top: -292%;
        margin-left: -2%;
    }
    #dotted-line-div2 {
        position: relative;
        margin-right: 65%
    }
    #dotted-line2 {
        width: 111%;
        height: auto;
        margin-top: 0%;
        margin-left: 1%;
    }
    #coffee-cup2 {
        width: 30%;
        height: auto;
        margin-top: 70%;
        margin-left: 15%;
    }
    #door-div {
        position: relative;
        margin-right: 65%
    }
    #door {
        width: 30%;
        height: auto;
        margin-top: 164%;
        margin-left: 10%;
    }
    #sign-div {
        position: relative;
        margin-right: 65%
    }
    #sign {
        width: 25%;
        height: auto;
        margin-top: -230%;
        margin-left: 14%;
    }
    .wraper{
    	position: relative;
        opacity: .9;
        width: 100%;  /* Just for testing, remove width and height if you have content inside this div*/
        height: 500px; /*Remove this if you have content inside*/
        margin: auto;
        margin-bottom: 50px
    }
    #line1{
        width: 72%;
        height: 0%;
        border-radius: 2%;
        margin: auto;
        margin-top: -26%;
        background-color: #9edb6e;
    }
    #line2{
        width: 72%;
        height: 0%;
        border-radius: 4%;
        margin: auto;
        margin-top: -26%;
        margin-left: 15.5%;
        background-color: #9edb6e;
    }
    </style>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>LineAtKAF</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/landing-page.css" rel="stylesheet">
    <script>
    // script to check if valid email address
        function empty() {
        var x;
        x = document.getElementById("email-input").value;
        if (x == "") {
            alert("Please enter a valid email address");
            return false;
        };
    }
    // Script for modal launch auto

    </script>

  </head>

  <body>
    <!-- Button trigger modal -->
    <!-- Modal -->
    <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Welcome to Line@Kaf!</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            Please bear with us as we put the finishing touches on our iOS app.
            In the meantime, enjoy our web version to check the real-time
            length of the line at KAF.
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- Navigation -->
    <!-- <nav class="navbar navbar-light bg-light static-top">
      <div class="container">
        <a class="navbar-brand" href="#">LineAtKAF</a>
        <a class="btn btn-primary" href="#">Sign In</a>
      </div>
    </nav> -->
    <!-- Masthead -->
    <header class="masthead text-white text-center">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 col-md-6">
                  <div class="wraper" >
                      <div id="overlay1">
                          <div id="coffee-cup-div"><img id="coffee-cup" src="../img/coffee_cup_icon.png"></div>
                        <div id="door-div"><img id="door" src="../img/door_icon.png"></div>
                        <div id="dotted-line-div"><img id="dotted-line" src="../img/dotted-line.png"></div>
                        <div class="text-center" id="personCountDiv">
                            <span id="personCount" style="display:inline"><span id="personNumber">0</span> person wait</span>
                            <span id="windowClosed" style="display:none;">WINDOW CLOSED</span>
                        </div>
                         <div id="line1" class="w3-container w3-center"></div>
                      </div>
                 </div>
          </div>
          <div class="col-sm-12 col-md-6">
                  <div class="wraper">
                    <div id="overlay2">
                      <div id="coffee-cup-div"><img id="coffee-cup2" src="../img/coffee_cup_icon.png"></div>
                      <div id="dotted-line-div2"><img id="dotted-line2" src="../img/dotted-line.png"></div>
                      <div id="sign-div"><img id="sign" src="../img/sign_icon.png"></div>
                        <div class="text-center" id="personCountDiv2">
                            <span id="personCount2" style="display:inline"><span id="personNumber2">0</span> person wait</span>
                            <span id="windowClosed2" style="display:none;">WINDOW CLOSED</span>
                        </div>
                        <div id="line2" class="w3-container w3-center">
                        </div>
                  </div>
              </div>
          </div>

          <script>
          function ajax(url, method, payload, successCallback){
              var xhr = new XMLHttpRequest();
              xhr.open(method, url, true);
              xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
              xhr.onreadystatechange = function () {
                if (xhr.readyState != 4 || xhr.status != 200) return;
                successCallback(xhr.responseText);
              };
              xhr.send(JSON.stringify(payload));
          }

          ajax("http://lineatkaf.herokuapp.com/line?line=1","GET",{},move);
          ajax("http://lineatkaf.herokuapp.com/line?line=2","GET",{},move2);

          function move(response) {
            var respData = JSON.parse(response);
            var dates = respData["date"].split("-");
            var open1 = respData["open"];
            var label = dates[3]+":"+dates[4]+":"+dates[5];
            var line = Math.min(respData["line"],15);
            var elem = document.getElementById("line1");
            var personText = document.getElementById("personNumber")
            var personCount = document.getElementById("personCount")
            var windowClosed = document.getElementById("windowClosed")
            var height = elem.style.height;
            var color = elem.style.backgroundColor;
            var text = elem.textContent;
            height = Math.round(15*height.slice(0, -1)/74);
            if (open1) {
              personCount.style.display = 'inline';
              windowClosed.style.display = 'none';
            var id = setInterval(frame, 50);
            } else {
              elem.style.height = '0%';
              personCount.style.display = 'none';
              windowClosed.style.display = 'inline';
            }
            function frame() {
              if (height > line) {
                height = height - .25;
                elem.style.height = 74*height/15 + '%';
                personText.innerHTML =Math.round(height);
              } else if (height < line) {
                height = height + .25;
                elem.style.height = 74*height/15 + '%';
                personText.innerHTML =Math.round(height);
              } else {
                clearInterval(id);
              }
              if (height < 6) {
                elem.style.backgroundColor = "#9edb6e";
            } else if (height >= 10) {
                elem.style.backgroundColor = "#ff9383";
              } else {
                elem.style.backgroundColor = "#ffda79";
              }
            }
          }
          function move2(response) {
            var respData = JSON.parse(response);
            var dates = respData["date"].split("-");
            var open2 = respData["open"]
            var label = dates[3]+":"+dates[4]+":"+dates[5];
            var line = Math.min(respData["line"],15);
            var elem = document.getElementById("line2");
            var personText = document.getElementById("personNumber2")
            var personCount = document.getElementById("personCount2")
            var windowClosed = document.getElementById("windowClosed2")
            var height = elem.style.height;
            var color = elem.style.backgroundColor;
            var text = elem.textContent;
            height = Math.round(15*height.slice(0, -1)/74);
            if (open2) {
              personCount.style.display = 'inline';
              windowClosed.style.display = 'none';
              var id = setInterval(frame, 50);
            } else {
              elem.style.height = '0%';
              personCount.style.display = 'none';
              windowClosed.style.display = 'inline';
            }
            function frame() {
              if (height > line) {
                height = height - .25;
                elem.style.height = 74*height/15 + '%';
                personText.innerHTML =Math.round(height);
              } else if (height < line) {
                height = height + .25;
                elem.style.height = 74*height/15 + '%';
                personText.innerHTML =Math.round(height);
              } else {
                clearInterval(id);
              }
              if (height < 6) {
                elem.style.backgroundColor = "#9edb6e";
            } else if (height >= 10) {
                elem.style.backgroundColor = "#ff9383";
              } else {
                elem.style.backgroundColor = "#ffda79";
              }
            }
          }
          var d = new Date();
          var counter = 0;
          // if (d.getHours() < 17) {
           var interval = setInterval(function(){
                ajax("http://lineatkaf.herokuapp.com/line?line=1","GET",{},move);
                ajax("http://lineatkaf.herokuapp.com/line?line=2","GET",{},move2);
                counter++
                // if (counter > 30) {
                  // clearInterval(interval)
                // }
             }, 2500);
          // }
          </script>
        </div>
      </div>
    </header>

    <section class="suggestions-section bg-light text-center">
      <div class="container">
        <div class="row justify-content-center">
          <form action="https://getsimpleform.com/messages?form_api_token=9adb7e340bccb518bdc082f12d7ff57c" method="post">
            <label for="suggestions-form-label">Please let us know if you have any feedback or suggestions!</label>
            <textarea class="form-control" id="suggestions-text" rows="4" type="suggestion" name ="suggestion" ></textarea>
            <br>
            <div>
              <button id="submit-suggestions" type="submit" class="btn btn-block btn-lg btn-primary">Send feedback</button>
            </div>
          </form>
        </div>
      </div>
    </section>
    <!-- Icons Grid -->
    <section class="features-icons bg-light text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-people m-auto text-primary"></i>
              </div>
              <h3>Know the line</h3>
              <p class="lead mb-0">Use our app to check the line at KAF at Baker-Berry!</p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-calendar m-auto text-primary"></i>
              </div>
              <h3>Plan Ahead</h3>
              <p class="lead mb-0">Check daily specials and menu availability </p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-screen-smartphone m-auto text-primary"></i>
              </div>
              <h3>Predictions</h3>
              <p class="lead mb-0">iOS and Android supported</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Image Showcases -->
    <section class="showcase">
      <div class="container-fluid p-0">
        <div class="row no-gutters">
          <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url('img/bg-showcase-1-cropped.jpg');"></div>
          <div class="col-lg-6 order-lg-1 my-auto showcase-text">
            <h3>Know the line</h3>
            <p class="lead mb-0">Check how long the line is on your phone before you get to the cafe to maximize your coffee break.</p>
          </div>
        </div>
        <div class="row no-gutters">
          <div class="col-lg-6 text-white showcase-img" style="background-image: url('img/bg-showcase-2.jpg');"></div>
          <div class="col-lg-6 my-auto showcase-text">
            <h3>Beat the line</h3>
            <p class="lead mb-0">With our line-prediction algorithm you can see the best times to go to KAF each day of the week.</p>
          </div>
        </div>
        <!-- <div class="row no-gutters">
          <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url('img/bg-showcase-3.jpg');"></div>
          <div class="col-lg-6 order-lg-1 my-auto showcase-text">
            <h2>Easy to Use &amp; Customize</h2>
            <p class="lead mb-0">Landing Page is just HTML and CSS with a splash of SCSS for users who demand some deeper customization options. Out of the box, just add your content and images, and your new landing page will be ready to go!</p>
          </div>
        </div> -->
      </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials text-center bg-light">
      <div class="container">
        <h2 class="mb-5">LineAtKAF Team</h2>
        <div class="row">
          <div class="col-lg-3">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="http://jinhyuncheong.com/">
              <img class="img-fluid rounded-circle mb-3" src="img/JinHyunCheong.jpg" alt=""></a>
              <h5>Jin Cheong</h5>
            </div>
          </div>
          <div class="col-lg-3">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="http://eshinjolly.com/">
              <img class="img-fluid rounded-circle mb-3" src="img/EshinJolly.jpg" alt=""></a>
              <h5>Eshin Jolly</h5>
            </div>
          </div>
          <div class="col-lg-3">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="https://www.linkedin.com/in/teddy-ni">
              <img class="img-fluid rounded-circle mb-3" src="img/TeddyNi.jpg" alt=""></a>
              <h5>Teddy Ni</h5>
            </div>
          </div>
          <div class="col-lg-3">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="https://www.linkedin.com/in/jjanelee97/">
              <img class="img-fluid rounded-circle mb-3" src="img/JaneLee.jpeg" alt=""></a>
              <h5>Jane Lee</h5>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="https://www.cosanlab.com">
              <img class="img-fluid rounded-circle mb-3" src="img/cosanlab.jpg" alt=""></a>
              <h5>COSAN Lab</h5>
              <!-- <p class="font-weight-light mb-0">"This is fantastic! Thanks so much guys!"</p> -->
            </div>
          </div>
          <div class="col-lg-6">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="http://dali.dartmouth.edu/">
              <img class="img-fluid rounded-circle mb-3" src="img/dalilab.png" alt=""></a>
              <h5>DALI Lab</h5>
              <!-- <p class="font-weight-light mb-0">"Bootstrap is amazing. I've been using it to create lots of super nice landing pages."</p> -->
            </div>
          </div>
        </div>
      </div>
    </section>

<!-- Call to Action -->
    <section class="call-to-action text-white text-center">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-xl-9 mx-auto">
            <h3 class="mb-4">Interested in beta testing?</h3>
            <h3 class="mb-4">We'll send an invite when we launch.</h3>
          </div>
          <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
            <form action="https://getsimpleform.com/messages?form_api_token=9adb7e340bccb518bdc082f12d7ff57c" method="post">
              <input type="hidden" name='redirect_to' value="http://lineatkaf.com/thankyoupage.html"/>
              <div class="form-row">
                <div class="col-12 col-md-9 mb-2 mb-md-0">
                  <input type="email" name ="email" class="form-control form-control-lg" placeholder="Enter your email..." id="email-input">
                </div>
                <div class="col-12 col-md-3">
                  <button type="submit" class="btn btn-block btn-lg btn-primary" onClick="return empty()">Sign up!</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer bg-light">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
            <ul class="list-inline mb-2">
              <!-- <li class="list-inline-item">
                <a href="#">About</a>
              </li>
              <li class="list-inline-item">&sdot;</li> -->
              <li class="list-inline-item">
                <a href="mailto:lineatkaf@gmail.com">Contact</a>
              </li>
              <li class="list-inline-item">&sdot;</li>
              <!-- <li class="list-inline-item">
                <a href="#">Terms of Use</a>
              </li>
              <li class="list-inline-item">&sdot;</li> -->
              <li class="list-inline-item">
                <a href="Privacy_Policy_LineAtKaf.pdf">Privacy Policy</a>
              </li>
            </ul>
            <p class="text-muted small mb-4 mb-lg-0">&copy; LineAtKAF 2018. All Rights Reserved.</p>
          </div>
          <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
            <ul class="list-inline mb-0">
              <li class="list-inline-item mr-3">
                <a href="#">
                  <i class="fa fa-facebook fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item mr-3">
                <a href="#">
                  <i class="fa fa-twitter fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="fa fa-instagram fa-2x fa-fw"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- <script src="vendor/jquery/jquery.min.js"></script> -->
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Default Statcounter code for Lineatkaf.com
    http://lineatkaf.com -->
    <script type="text/javascript">
    var sc_project=11664653;
    var sc_invisible=1;
    var sc_security="162cec12";
    </script>
    <script type="text/javascript"
    src="https://www.statcounter.com/counter/counter.js"
    async></script>
    <noscript><div class="statcounter"><a title="Web Analytics"
    href="http://statcounter.com/" target="_blank"><img
    class="statcounter"
    src="//c.statcounter.com/11664653/0/162cec12/1/" alt="Web
    Analytics"></a></div></noscript>
    <!-- End of Statcounter Code -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113777015-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-113777015-2');
    </script>

  </body>
  <script type="text/javascript">
      $(document).ready(function () {
        if (document.cookie.indexOf("shown=true")<0) {
            var show = function(){
                    $('#exampleModalCenter').modal('show');
            };
            $(window).load(function(){
                var timer = window.setTimeout(show,100);
            });
          }
          document.cookie = "shown=true; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";
      });
  </script>
</html>
