<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>LineAtKAF</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/landing-page.min.css" rel="stylesheet">
    <script>
        function empty() {
        var x;
        x = document.getElementById("email-input").value;
        if (x == "") {
            alert("Please enter a valid email address");
            return false;
        };
    }
    </script>

  </head>

  <body>
    <!-- Navigation -->
    <!-- <nav class="navbar navbar-light bg-light static-top">
      <div class="container">
        <a class="navbar-brand" href="#">LineAtKAF</a>
        <a class="btn btn-primary" href="#">Sign In</a>
      </div>
    </nav> -->

    <!-- Masthead -->
    <header class="masthead text-white text-center">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-xl-9 mx-auto">
            <section>
            <canvas id="Line1Chart" width="800" height="200"></canvas>
            </section>

            <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.bundle.min.js"></script> -->
            <!--  http://jsbin.com/kalilayohu/1/edit?html,js,output
            https://pusher.com/tutorials/graph-javascript/
            http://jsbin.com/kalilayohu/1/edit?html,js,output
            -->
            <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
            <script type="text/javascript">
            function ajax(url, method, payload, successCallback){
                var xhr = new XMLHttpRequest();
                xhr.open(method, url, true);
                xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
                xhr.onreadystatechange = function () {
                  if (xhr.readyState != 4 || xhr.status != 200) return;
                  successCallback(xhr.responseText);
                };
                xhr.send(JSON.stringify(payload));
            }
            var chartConfig = {
               options: {
                 scales: {
                   yAxes: [{
                              ticks: {
                                  fontSize: 40
                              }
                          }]
                 },
                 events: [],
                 states: {hover: {enabled: false}},
                 tooltips: {enabled: false},
                 hover: {mode: null}
               },
               type: 'line',
               labels: [],
               datasets: [
                  {
                     label: "Line1",
                     data:[],
                     events: [],
                     fillColor: "rgba(151,187,205,0.0",
                     strokeColor: "rgba(255,255,255,0.5)",
                     pointColor: "rgba(198,118,40,1)",
                     pointStrokeColor: "#fff",
                     pointHighlightFill: "#fff",
                  }
               ]
            };

            var ctx = document.getElementById("Line1Chart").getContext("2d");
            var Line1ChartRef = new Chart(ctx,chartConfig);

            function renderLine1Chart(line1Data) {
               var ctx = document.getElementById("Line1Chart").getContext("2d");
               var optionsNoAnimation = {
                                          animation : false,
                                          //Boolean - If we want to override with a hard coded scale
                                          scaleOverride : true,
                                          //** Required if scaleOverride is true **
                                          //Number - The number of steps in a hard coded scale
                                          scaleSteps : 8,
                                          //Number - The value jump in the hard coded scale
                                          scaleStepWidth : 2,
                                          //Number - The scale starting value
                                          scaleStartValue : 0
                                        }
               Line1ChartRef.Line(line1Data,optionsNoAnimation)
               // Line1ChartRef = new Chart(ctx,chartConfig).Line(line1Data);
            }
            ajax("http://lineatkaf.herokuapp.com/line?line=1","GET",{},onFetchTempSuccess);

            function onFetchTempSuccess(response){
               var respData = JSON.parse(response);
               var dates = respData["date"].split("-");
               var label = dates[3]+":"+dates[4]+":"+dates[5];
               chartConfig.labels.push(label)
               chartConfig.datasets[0].data.push(respData["line"]);
               renderLine1Chart(chartConfig)
            }
            // update data every 5 seconds
            // only do this during business hours
            var d = new Date();
            var counter = 0;
            if (d.getHours() < 17) {
             var interval = setInterval(function(){
                  ajax("http://lineatkaf.herokuapp.com/line?line=1","GET",{},onFetchTempSuccess);
                  counter++
                  if (counter > 30) {
                    clearInterval(interval)
                  }
               }, 5000);
            }
            </script>
            <h2 class="mb-5">Line 1 at KAF</h2>
            <h3 class="mb-5"></h3>
          </div>
          <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
            <!-- <form>
              <div class="form-row">
                <div class="col-12 col-md-9 mb-2 mb-md-0">
                  <input type="email" class="form-control form-control-lg" placeholder="Enter your email...">
                </div>
                <div class="col-12 col-md-3">
                  <button type="submit" class="btn btn-block btn-lg btn-primary">Sign up!</button>
                </div>
              </div>
            </form> -->
          </div>
        </div>
      </div>
    </header>

    <!-- Icons Grid -->
    <section class="features-icons bg-light text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-people m-auto text-primary"></i>
              </div>
              <h3>Know the line</h3>
              <p class="lead mb-0">Use our app to check the line at KAF at Baker-Berry!</p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-calendar m-auto text-primary"></i>
              </div>
              <h3>Plan Ahead</h3>
              <p class="lead mb-0">Check daily specials and menu availability </p>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="features-icons-item mx-auto mb-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="icon-screen-smartphone m-auto text-primary"></i>
              </div>
              <h3>Predictions</h3>
              <p class="lead mb-0">iOS and Android supported</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Image Showcases -->
    <section class="showcase">
      <div class="container-fluid p-0">
        <div class="row no-gutters">
          <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url('img/bg-showcase-1-cropped.jpg');"></div>
          <div class="col-lg-6 order-lg-1 my-auto showcase-text">
            <h3>Know the line</h3>
            <p class="lead mb-0">Check how long the line is on your phone before you get to the cafe to maximize your coffee break.</p>
          </div>
        </div>
        <div class="row no-gutters">
          <div class="col-lg-6 text-white showcase-img" style="background-image: url('img/bg-showcase-2.jpg');"></div>
          <div class="col-lg-6 my-auto showcase-text">
            <h3>Beat the line</h3>
            <p class="lead mb-0">With our line-prediction algorithm you can see the best times to go to KAF each day of the week.</p>
          </div>
        </div>
        <!-- <div class="row no-gutters">
          <div class="col-lg-6 order-lg-2 text-white showcase-img" style="background-image: url('img/bg-showcase-3.jpg');"></div>
          <div class="col-lg-6 order-lg-1 my-auto showcase-text">
            <h2>Easy to Use &amp; Customize</h2>
            <p class="lead mb-0">Landing Page is just HTML and CSS with a splash of SCSS for users who demand some deeper customization options. Out of the box, just add your content and images, and your new landing page will be ready to go!</p>
          </div>
        </div> -->
      </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials text-center bg-light">
      <div class="container">
        <h2 class="mb-5">LineAtKAF Team</h2>
        <div class="row">
          <div class="col-lg-4">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="http://jinhyuncheong.com/">
              <img class="img-fluid rounded-circle mb-3" src="img/JinHyunCheong.jpg" alt=""></a>
              <h5>Jin Cheong</h5>
              <!-- <p class="font-weight-light mb-0">"This is fantastic! Thanks so much guys!"</p> -->
            </div>
          </div>
          <div class="col-lg-4">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="http://eshinjolly.com/">
              <img class="img-fluid rounded-circle mb-3" src="img/EshinJolly.jpg" alt=""></a>
              <h5>Eshin Jolly</h5>
              <!-- <p class="font-weight-light mb-0">"Bootstrap is amazing. I've been using it to create lots of super nice landing pages."</p> -->
            </div>
          </div>
          <div class="col-lg-4">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="https://www.linkedin.com/in/teddy-ni">
              <img class="img-fluid rounded-circle mb-3" src="img/TeddyNi.jpg" alt=""></a>
              <h5>Teddy Ni</h5>
              <!-- <p class="font-weight-light mb-0">"Thanks so much for making these free resources available to us!"</p> -->
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="https://www.cosanlab.com">
              <img class="img-fluid rounded-circle mb-3" src="img/cosanlab.jpg" alt=""></a>
              <h5>COSAN Lab</h5>
              <!-- <p class="font-weight-light mb-0">"This is fantastic! Thanks so much guys!"</p> -->
            </div>
          </div>
          <div class="col-lg-6">
            <div class="testimonial-item mx-auto mb-5 mb-lg-0">
                <a href="http://dali.dartmouth.edu/">
              <img class="img-fluid rounded-circle mb-3" src="img/dalilab.png" alt=""></a>
              <h5>DALI Lab</h5>
              <!-- <p class="font-weight-light mb-0">"Bootstrap is amazing. I've been using it to create lots of super nice landing pages."</p> -->
            </div>
          </div>
        </div>
      </div>
    </section>

<!-- Call to Action -->
    <section class="call-to-action text-white text-center">
      <div class="overlay"></div>
      <div class="container">
        <div class="row">
          <div class="col-xl-9 mx-auto">
            <h3 class="mb-4">Interested in beta testing?</h3>
            <h3 class="mb-4">We'll send an invite when we launch.</h3>
          </div>
          <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
            <form action="https://getsimpleform.com/messages?form_api_token=9adb7e340bccb518bdc082f12d7ff57c" method="post">
              <input type="hidden" name='redirect_to' value="http://lineatkaf.com/thankyoupage.html"/>
              <div class="form-row">
                <div class="col-12 col-md-9 mb-2 mb-md-0">
                  <input type="email" name ="email" class="form-control form-control-lg" placeholder="Enter your email..." id="email-input">
                </div>
                <div class="col-12 col-md-3">
                  <button type="submit" class="btn btn-block btn-lg btn-primary" onClick="return empty()">Sign up!</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer bg-light">
      <div class="container">
        <div class="row">
          <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
            <ul class="list-inline mb-2">
              <!-- <li class="list-inline-item">
                <a href="#">About</a>
              </li>
              <li class="list-inline-item">&sdot;</li> -->
              <li class="list-inline-item">
                <a href="mailto:lineatkaf@gmail.com">Contact</a>
              </li>
              <li class="list-inline-item">&sdot;</li>
              <!-- <li class="list-inline-item">
                <a href="#">Terms of Use</a>
              </li>
              <li class="list-inline-item">&sdot;</li> -->
              <li class="list-inline-item">
                <a href="Privacy_Policy_LineAtKaf.pdf">Privacy Policy</a>
              </li>
            </ul>
            <p class="text-muted small mb-4 mb-lg-0">&copy; LineAtKAF 2018. All Rights Reserved.</p>
          </div>
          <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
            <ul class="list-inline mb-0">
              <li class="list-inline-item mr-3">
                <a href="#">
                  <i class="fa fa-facebook fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item mr-3">
                <a href="#">
                  <i class="fa fa-twitter fa-2x fa-fw"></i>
                </a>
              </li>
              <li class="list-inline-item">
                <a href="#">
                  <i class="fa fa-instagram fa-2x fa-fw"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Default Statcounter code for Lineatkaf.com
    http://lineatkaf.com -->
    <script type="text/javascript">
    var sc_project=11664653;
    var sc_invisible=1;
    var sc_security="162cec12";
    </script>
    <script type="text/javascript"
    src="https://www.statcounter.com/counter/counter.js"
    async></script>
    <noscript><div class="statcounter"><a title="Web Analytics"
    href="http://statcounter.com/" target="_blank"><img
    class="statcounter"
    src="//c.statcounter.com/11664653/0/162cec12/1/" alt="Web
    Analytics"></a></div></noscript>
    <!-- End of Statcounter Code -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113777015-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-113777015-2');
    </script>

  </body>

</html>
